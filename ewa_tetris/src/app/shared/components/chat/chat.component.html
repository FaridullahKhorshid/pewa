<div id="chat" class="card mt-5">

  <div class="d-flex flex-row justify-content-between adiv text-white">
    <!--    <i class="fas fa-chevron-left"></i>-->
    <span class="pb-3"><strong> Tetris public chat</strong></span>
    <i class="fas fa-times toggle-chat" (click)="toggleChat()"></i>
  </div>
  <div id="messages" #messagesDiv [scrollTop]="messagesDiv.scrollHeight">


    <ng-container *ngFor="let message of messages">

      <div class="p-3 user-message" *ngIf="message.user.username != username && message.type != 'welcome'">
        <i class="fas fa-user-circle user"></i>
        <div class="message-info">
          <strong class="mx-2">{{message.user.username}}</strong>
          <div class="message-text ml-2 p-2">
            <span>{{message.text}}</span>
          </div>
        </div>
      </div>

      <div *ngIf="message.type == 'welcome'" class="welcome-message  p-2">
        <div class="message-info">
          <div class="message-text">
            <span>{{message.text}}</span>
          </div>
        </div>
      </div>

      <div class="p-3 my-message " *ngIf="message.user.username == username && message.type != 'welcome'">
        <div class="message-info">
          <strong class="mx-2">{{message.user.username}}</strong>
          <div class="mr-2 p-2 message-text">
            <span class="text-muted">{{message.text}}</span>
          </div>
        </div>
        <i class="fas fa-user-circle user"></i>
      </div>

    </ng-container>

    <div class="d-flex flex-row p-3 text-muted typing-user" *ngIf="typingUsername != ''">
      <i class="fas fa-user-circle user"></i>
      <strong class="mx-2">{{typingUsername}} is typing...</strong>
    </div>
  </div>


  <!--  message form -->
  <div class="form-group d-flex message-form">
    <input class="form-control" placeholder="Type your message" [(ngModel)]="message.text">
    <button class="btn btn-success" (click)="sendMessage()"><i class="fas fa-paper-plane"></i></button>
  </div>
</div>
